<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catan Online</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="app">
    <!-- Main Menu -->
    <div id="menu" class="screen active">
      <div class="menu-container">
        <h1>Catan Online</h1>
        <div class="menu-content">
          <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
          <button id="createGameBtn" class="btn btn-primary">Create New Game</button>
          <div class="divider">OR</div>
          <input type="text" id="gameId" placeholder="Enter Game ID" maxlength="6">
          <button id="joinGameBtn" class="btn btn-secondary">Join Game</button>
        </div>
      </div>
    </div>

    <!-- Lobby Screen -->
    <div id="lobby" class="screen">
      <div class="lobby-container">
        <h2>Game Lobby</h2>
        <div class="game-id-display">
          Game ID: <span id="lobbyGameId"></span>
        </div>
        <div class="players-list">
          <h3>Players:</h3>
          <ul id="playersList"></ul>
        </div>
        <button id="startGameBtn" class="btn btn-primary">Start Game</button>
        <button id="leaveLobbyBtn" class="btn btn-secondary">Leave</button>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="game" class="screen">
      <div class="game-header">
        <div class="game-info">
          <div id="currentTurn">Current Turn: <span id="currentPlayerName"></span></div>
          <div id="gamePhase">Phase: <span id="phaseText"></span></div>
        </div>
        <div id="robberNotice" class="robber-notice" style="display: none;">
          Click on a hex to move the robber!
        </div>
        <div id="knightNotice" class="robber-notice" style="display: none;">
          Playing Knight Card - Click on a hex to move the robber!
        </div>
        <div id="roadBuildingNotice" class="robber-notice" style="display: none;">
          <strong>Road Building:</strong> Click "Build Road" to place your free roads (<span id="freeRoadsRemaining">2</span> remaining)
        </div>
        <div class="dice-container">
          <div id="diceResult"></div>
        </div>
      </div>

      <!-- Scoreboard -->
      <div class="scoreboard">
        <div id="scoreboardContent" class="scoreboard-content">
          <!-- Players will be dynamically inserted here -->
        </div>
      </div>

      <div class="game-main">
        <div class="board-container">
          <canvas id="gameBoard" width="800" height="700"></canvas>
        </div>

        <div class="sidebar">
          <div class="player-info">
            <h3>Your Info</h3>
            <div id="playerColor" class="color-indicator"></div>
            <div id="victoryPoints">
              <h4>Victory Points: <span id="totalVP">0</span></h4>
              <div id="vpBreakdown" class="vp-breakdown">
                <div class="vp-item"><span class="vp-label">Settlements:</span> <span id="vpSettlements">0</span></div>
                <div class="vp-item"><span class="vp-label">Cities:</span> <span id="vpCities">0</span></div>
                <div class="vp-item" id="vpLongestRoadItem" style="display: none;"><span class="vp-label">Longest Road:</span> <span>+2</span></div>
                <div class="vp-item" id="vpLargestArmyItem" style="display: none;"><span class="vp-label">Largest Army:</span> <span>+2</span></div>
                <div class="vp-item" id="vpDevCardsItem" style="display: none;"><span class="vp-label">VP Cards:</span> <span id="vpDevCards">0</span></div>
              </div>
            </div>
            <div id="playerResources">
              <h4>Resources:</h4>
              <div class="resource-list">
                <div class="resource">Wood: <span id="wood">0</span></div>
                <div class="resource">Brick: <span id="brick">0</span></div>
                <div class="resource">Sheep: <span id="sheep">0</span></div>
                <div class="resource">Wheat: <span id="wheat">0</span></div>
                <div class="resource">Ore: <span id="ore">0</span></div>
              </div>
            </div>
          </div>

          <div class="development-cards">
            <h3>Development Cards (<span id="devCardCount">0</span>)</h3>
            <div id="developmentCardsList" class="dev-cards-list">
              <p class="no-cards">No development cards yet</p>
            </div>
          </div>

          <div class="actions">
            <h3>Actions</h3>
            <button id="rollDiceBtn" class="btn btn-action" disabled>
              Roll Dice
            </button>
            <button id="buildSettlementBtn" class="btn btn-action" disabled>
              Build Settlement (W B S Wh)
            </button>
            <button id="buildRoadBtn" class="btn btn-action" disabled>
              Build Road (W B)
            </button>
            <button id="buildCityBtn" class="btn btn-action" disabled>
              Build City (2Wh 3O)
            </button>
            <button id="buyDevCardBtn" class="btn btn-action" disabled>
              Buy Dev Card (S Wh O)
            </button>
            <button id="tradeBtn" class="btn btn-action" disabled>
              Trade with Players
            </button>
            <button id="bankTradeBtn" class="btn btn-action" disabled>
              Trade with Bank
            </button>
            <button id="endTurnBtn" class="btn btn-action" disabled>
              End Turn
            </button>
          </div>

          <div class="players-status">
            <h3>All Players</h3>
            <div id="playersStatus"></div>
          </div>
        </div>
      </div>

      <div class="message-log">
        <div id="gameLog"></div>
      </div>
    </div>

    <!-- Trade Modal -->
    <div id="tradeModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Create Trade Offer</h2>
          <span class="close-modal">&times;</span>
        </div>
        <div class="modal-body">
          <div class="trade-section">
            <h3>You Give:</h3>
            <div class="resource-selectors" id="offeringResources">
              <div class="resource-selector">
                <label>Wood:</label>
                <input type="number" id="give-wood" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Brick:</label>
                <input type="number" id="give-brick" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Sheep:</label>
                <input type="number" id="give-sheep" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Wheat:</label>
                <input type="number" id="give-wheat" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Ore:</label>
                <input type="number" id="give-ore" min="0" value="0">
              </div>
            </div>
          </div>
          <div class="trade-section">
            <h3>You Get:</h3>
            <div class="resource-selectors" id="requestingResources">
              <div class="resource-selector">
                <label>Wood:</label>
                <input type="number" id="get-wood" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Brick:</label>
                <input type="number" id="get-brick" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Sheep:</label>
                <input type="number" id="get-sheep" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Wheat:</label>
                <input type="number" id="get-wheat" min="0" value="0">
              </div>
              <div class="resource-selector">
                <label>Ore:</label>
                <input type="number" id="get-ore" min="0" value="0">
              </div>
            </div>
          </div>
          <div class="trade-section">
            <h3>Trade With:</h3>
            <select id="tradeTarget">
              <option value="">All Players</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button id="submitTradeBtn" class="btn btn-primary">Offer Trade</button>
          <button id="cancelTradeBtn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Bank Trade Modal -->
    <div id="bankTradeModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Trade with Bank (4:1)</h2>
          <span class="close-modal" id="closeBankTradeBtn">&times;</span>
        </div>
        <div class="modal-body">
          <p>Trade 4 of one resource for 1 of any other resource</p>
          <div class="trade-section">
            <h3>Give 4 of:</h3>
            <select id="bankGiveResource">
              <option value="">Select Resource</option>
              <option value="wood">Wood</option>
              <option value="brick">Brick</option>
              <option value="sheep">Sheep</option>
              <option value="wheat">Wheat</option>
              <option value="ore">Ore</option>
            </select>
          </div>
          <div class="trade-section">
            <h3>Receive 1 of:</h3>
            <select id="bankReceiveResource">
              <option value="">Select Resource</option>
              <option value="wood">Wood</option>
              <option value="brick">Brick</option>
              <option value="sheep">Sheep</option>
              <option value="wheat">Wheat</option>
              <option value="ore">Ore</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button id="submitBankTradeBtn" class="btn btn-primary">Trade with Bank</button>
          <button id="cancelBankTradeBtn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Trade Offers Panel -->
    <div id="tradeOffersPanel" class="trade-offers-panel">
      <h3>Active Trade Offers</h3>
      <div id="tradeOffersList"></div>
    </div>

    <!-- Discard Modal -->
    <div id="discardModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Discard Cards</h2>
        </div>
        <div class="modal-body">
          <p id="discardMessage">You must discard <span id="discardAmount">0</span> cards.</p>
          <div class="resource-selectors" id="discardResources">
            <div class="resource-selector">
              <label>Wood:</label>
              <input type="number" id="discard-wood" min="0" value="0">
            </div>
            <div class="resource-selector">
              <label>Brick:</label>
              <input type="number" id="discard-brick" min="0" value="0">
            </div>
            <div class="resource-selector">
              <label>Sheep:</label>
              <input type="number" id="discard-sheep" min="0" value="0">
            </div>
            <div class="resource-selector">
              <label>Wheat:</label>
              <input type="number" id="discard-wheat" min="0" value="0">
            </div>
            <div class="resource-selector">
              <label>Ore:</label>
              <input type="number" id="discard-ore" min="0" value="0">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="submitDiscardBtn" class="btn btn-primary">Discard Cards</button>
        </div>
      </div>
    </div>

    <!-- Steal Card Modal -->
    <div id="stealModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Steal a Card</h2>
        </div>
        <div class="modal-body">
          <p>Choose a player to steal from:</p>
          <div id="stealTargets"></div>
        </div>
      </div>
    </div>

    <!-- Year of Plenty Modal -->
    <div id="yearOfPlentyModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Year of Plenty</h2>
          <span class="close-modal" id="closeYearOfPlentyBtn">&times;</span>
        </div>
        <div class="modal-body">
          <p>Choose 2 resources from the bank:</p>
          <div class="trade-section">
            <h3>First Resource:</h3>
            <select id="yearOfPlentyResource1">
              <option value="">Select Resource</option>
              <option value="wood">Wood</option>
              <option value="brick">Brick</option>
              <option value="sheep">Sheep</option>
              <option value="wheat">Wheat</option>
              <option value="ore">Ore</option>
            </select>
          </div>
          <div class="trade-section">
            <h3>Second Resource:</h3>
            <select id="yearOfPlentyResource2">
              <option value="">Select Resource</option>
              <option value="wood">Wood</option>
              <option value="brick">Brick</option>
              <option value="sheep">Sheep</option>
              <option value="wheat">Wheat</option>
              <option value="ore">Ore</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button id="submitYearOfPlentyBtn" class="btn btn-primary">Take Resources</button>
          <button id="cancelYearOfPlentyBtn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Monopoly Modal -->
    <div id="monopolyModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Monopoly</h2>
          <span class="close-modal" id="closeMonopolyBtn">&times;</span>
        </div>
        <div class="modal-body">
          <p>Choose a resource to take from all other players:</p>
          <div class="trade-section">
            <h3>Resource Type:</h3>
            <select id="monopolyResource">
              <option value="">Select Resource</option>
              <option value="wood">Wood</option>
              <option value="brick">Brick</option>
              <option value="sheep">Sheep</option>
              <option value="wheat">Wheat</option>
              <option value="ore">Ore</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button id="submitMonopolyBtn" class="btn btn-primary">Take All</button>
          <button id="cancelMonopolyBtn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/client.js"></script>
  <script src="/js/renderer.js"></script>
</body>
</html>
